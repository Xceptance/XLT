/* Code originated from
 *   https://github.com/shunjikonishi/jquery-splitter
 *   MIT License
 *
 * Modifications:
 *  - use 'left' coordinates to position both containers in horizontal split
 */
!function(factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=factory(require("jquery"),window,document):factory(jQuery,window,document)}(function($,window,document,undefined){function SplitterManager(){var splitters=[],current=null,bgColor=null,dragObj=null,overlay=null;function doResize(current,ev){var parent=current.parent,div1=current.div1,div2=current.div2,horizontal="horizontal"==current.orientation(),rbSize=0;current.resizebar&&(rbSize=horizontal?current.resizebar.outerWidth(!0):current.resizebar.outerHeight(!0));var keepLeft=current.keepLeft();if(horizontal){var l,r,cw=parent.width();keepLeft?(cw<(l=div1.outerWidth(!0))&&(l=cw),(r=cw-l-rbSize)<0&&(r=0)):(cw<(r=div2.outerWidth(!0))&&(r=cw),(l=cw-r-rbSize)<0&&(l=0)),current.position(l)}else{var t,b,ch=parent.height();keepLeft?(ch<(t=div1.outerHeight(!0))&&(t=ch),(b=ch-t-rbSize)<0&&(b=0)):(ch<(b=div2.outerHeight(!0))&&(b=ch),(t=ch-b-rbSize)<0&&(t=0)),current.position(t)}current.windowResized()&&curent.windowResized()(ev)}$(document.documentElement).mousedown(function(ev){if(1===(void 0===ev.buttons?ev.which:ev.buttons)&&(dragObj=current)){bgColor=dragObj.resizebar.css("background-color"),dragObj.resizebar.css("background-color","#696969");var $body=$("body");return $body.css("cursor",dragObj.resizebar.css("cursor")),overlay||(overlay=$("<div class='splitter-overlay'/>").css({position:"absolute",width:"100%",height:"100%",left:0,top:0,"z-index":9999})),$body.append(overlay),!1}}).mouseup(function(){dragObj&&(dragObj.resizebar.css("background-color",bgColor),$("body").css("cursor","auto")),overlay&&(overlay.remove(),overlay=null),dragObj=null}).mousemove(function(ev){if(dragObj)if(void 0===ev.buttons?ev.which:ev.buttons){if("horizontal"==dragObj.orientation()){var pw=dragObj.parent.width(),x=ev.clientX-dragObj.parent.offset().left;x<0?x=0:pw<x&&(x=pw),dragObj.position(x)}else{var ph=dragObj.parent.height(),y=ev.clientY-dragObj.parent.offset().top;y<0?y=0:ph<y&&(y=ph),dragObj.position(y)}dragObj.paneResized()&&dragObj.paneResized()(ev);for(var i=0;i<splitters.length;i++){var pane=splitters[i];pane!=current&&doResize(pane,ev)}}else dragObj=null}),$(window).resize(function(ev){for(var i=0;i<splitters.length;i++)doResize(splitters[i],ev)}),$.extend(this,{size:function(){return splitters.length},setCurrent:function(c){current=c},add:function(splitter){splitters.push(splitter)},release:function(splitter){for(var idx=-1,i=0;i<splitters.length;i++)if(splitters[i]==splitter){idx=i;break}0<=idx&&splitters.splice(idx,1)}})}function Splitter(parent,div1,div2,horizontal,barwidth){manager||(manager=new SplitterManager),manager.add(this);var self=this,keepLeft=!0,limit=0,paneResized=null,windowResized=null,resizebar=(parent=$(parent),div1=$(div1),div2=$(div2),$("<div class='splitter-resizebar'></div>").appendTo(parent));if(resizebar.addClass("splitter-"+manager.size()),resizebar.css({"background-color":"#a9a9a9",position:"absolute","z-index":20,overflow:"hidden"}).mouseenter(function(){manager.setCurrent(self)}).mouseleave(function(){manager.setCurrent(null)}),horizontal){var w1=div1.outerWidth(!0),w2=parent.width()-w1;div1.css({position:"absolute","overflow-x":"auto",left:0,width:w1}),resizebar.css({left:w1,width:barwidth,height:"100%",cursor:"col-resize"});var w3=resizebar.outerWidth(!0);div2.css({position:"absolute","overflow-x":"auto",left:w1+barwidth,width:w2-w3})}else{var h1=div1.outerHeight(!0),h2=div2.outerHeight(!0);div1.css({position:"absolute","overflow-y":"auto",top:0,height:h1}),resizebar.css({top:h1,width:"100%",height:barwidth,cursor:"row-resize"});var h3=resizebar.outerHeight(!0);div2.css({position:"absolute","overflow-y":"auto",bottom:0,height:h2-h3})}$.extend(this,{parent:parent,div1:div1,div2:div2,resizebar:resizebar,orientation:function(){return"col-resize"==self.resizebar.css("cursor").toLowerCase()?"horizontal":"vertical"},paneResized:function(func){return func===undefined?paneResized:(paneResized=func,self)},windowResized:function(func){return func===undefined?windowResized:(windowResized=func,self)},keepLeft:function(b){return b===undefined?keepLeft:(keepLeft=b,self)},limit:function(n){return n===undefined?limit:(limit=n,self)},position:function(n){if("horizontal"==self.orientation()){if(n===undefined)return resizebar.css("left");var low=limit,high=parent.width()-limit;n<low?n=low:high<n&&(n=high),resizebar.css("left",n),div1.css("width",n),div2.css({left:n+resizebar.width(),width:parent.width()-resizebar.outerWidth(!0)-n})}else{if(n===undefined)return resizebar.css("top");low=limit,high=parent.height()-limit;n<low?n=low:high<n&&(n=high),resizebar.css("top",n),div1.css("height",n),div2.css("height",parent.height()-resizebar.outerHeight(!0)-n)}return self},release:function(){return manager.release(self),self}})}var manager=null;$.fn.splitter=function(options){var div1=this.children().first(),div2=div1.next(),settings={div1:div1,div2:div2,orientation:"horizontal",limit:0,keepLeft:!0,paneResized:null,windowResized:null,barwidth:4};if(options&&$.extend(settings,options),"horizontal"===settings.orientation)this.css("width","100%"),div1.width()===this.width()&&div1.css("width",Math.floor(this.width()/10*3));else{this.css("height","100%");var h1=div1.height();(h1<this.height()/10||0<settings.limit&&h1<settings.limit)&&(h1=settings.limit||200,div1.css("height",settings.limit||200)),div2.css("height",this.height()-h1)}var splitter=new Splitter(this,settings.div1,settings.div2,"horizontal"==settings.orientation,settings.barwidth);return splitter.limit(settings.limit),splitter.keepLeft(settings.keepLeft),splitter.paneResized(settings.paneResized),splitter.windowResized(settings.windowResized),splitter}});
